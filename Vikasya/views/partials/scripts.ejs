<script>
  document.addEventListener("DOMContentLoaded", function () {
    const featureCards = document.querySelectorAll(".feature-card");
    const backToTop = document.getElementById("backToTop");
    const header = document.getElementById("header");

    // Animate feature cards when they come into view
    const animateOnScroll = function () {
      featureCards.forEach((card) => {
        const cardPosition = card.getBoundingClientRect().top;
        const screenPosition = window.innerHeight / 1.2;

        if (cardPosition < screenPosition) {
          card.classList.add("animated");
        }
      });

      // Show/hide back to top button
      if (window.scrollY > 300) {
        backToTop.classList.add("visible");
      } else {
        backToTop.classList.remove("visible");
      }

      // Shrink header on scroll
      if (window.scrollY > 50) {
        header.classList.add("scrolled");
      } else {
        header.classList.remove("scrolled");
      }
    };

    // Run on load
    animateOnScroll();

    // Run on scroll
    window.addEventListener("scroll", animateOnScroll);

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();

        if (this.getAttribute("href") === "#") return;

        const target = document.querySelector(this.getAttribute("href"));
        if (target) {
          window.scrollTo({
            top: target.offsetTop - 80,
            behavior: "smooth",
          });
        }
      });
    });

    // Water ripple effect on logo
    const logo = document.querySelector(".logo span");
    if (logo) {
      logo.addEventListener("mouseover", function () {
        this.style.animation = "none";
        setTimeout(() => {
          this.style.animation =
            "ripple 1s ease-out, float 3s ease-in-out infinite";
        }, 10);
      });
    }
  });
</script>
